---?image=assets/images/crystal-logo.png&size=45% auto

---

- è³‡æ–™ã¯å…¬é–‹æ¸ˆã¿ã§ã™
  - [https://gitpitch.com/at-grandpa/ruby-association-event-slides-20170706#](https://gitpitch.com/at-grandpa/ruby-association-event-slides-20170706#)
  - [@at_grandpa](https://twitter.com/at_grandpa)ã§ã¤ã¶ã‚„ãã¾ã™
- å®Ÿæ³ãƒ„ã‚¤ãƒ¼ãƒˆãªã©å¤§æ­“è¿ã§ã™
- ã‚¹ãƒ©ã‚¤ãƒ‰ä¸­ã®ãƒªãƒ³ã‚¯ã¯ã‚¯ãƒªãƒƒã‚¯ã§ãã¾ã™
  -  GitPitchä¾¿åˆ©

---

###### Matzã•ã‚“ã®å¾Œã§ç·Šå¼µã—ã¦ã„ã¾ã™ğŸŒ€

---

## RubyKaigi 2016

<img src="assets/images/rubykaigi-2016-01.JPG" width="60%">

###### [#rubyfriends](https://twitter.com/hashtag/rubyfriends?src=hash)  [#rubykaigi](https://twitter.com/hashtag/rubykaigi?src=hash)


---

<img src="assets/images/blog-01-rubykaigi.png" width="60%">

###### [http://at-grandpa.hatenablog.jp/entry/2016/09/09/083547](http://at-grandpa.hatenablog.jp/entry/2016/09/09/083547)


---

## ğŸ‰RubyKaigi 2017â›©

<img src="assets/images/rubykaigi-2017-01.png" width="60%">

###### [http://rubykaigi.org/2017](http://rubykaigi.org/2017)


---

<img src="assets/images/icon_512.jpg" width="30%">

- twitter: [@at_grandpa](https://twitter.com/at_grandpa)
- github: [@at-grandpa](https://github.com/at-grandpa)
###### ã€€
###### I love Crystal lang.


---

<img src="assets/images/blog-02-clim.png" width="70%">

###### [ï¼‘ç§’ã§ã‚‚æ—©ãCLIãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚ŠãŸã„ by Crystal](http://at-grandpa.hatenablog.jp/entry/clim)


---

<img src="assets/images/blog-03-des.png" width="70%">

###### [ã¡ã‚‡ã£ã¨ã—ãŸdockerç’°å¢ƒã‚’ç´ æ—©ãä½œã‚Œã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½œã£ãŸ](http://at-grandpa.hatenablog.jp/entry/2017/06/22/090935)


---

## Crystal-lang [Google Group](https://groups.google.com/forum/?fromgroups#!forum/crystal-lang)

<img src="assets/images/google-group-01-all.png" width="90%">


---

<img src="assets/images/google-group-02-lldb-question.png" width="70%">

###### lldbã§ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã®å€¤ãŒè¦‹ã‚Œãªã„ã‚“ã ã‘ã©
###### ã©ã†ã—ãŸã‚‰ã„ã„ï¼Ÿ


---

<img src="assets/images/google-group-03-answer.png" width="50%">

###### ã€ŒHi, grandpaã€=ã€Œã‚„ãã€ãŠã˜ã„ã¡ã‚ƒã‚“ã€


---

## Crystalå‘¨ã‚Šã®æ´»å‹•

- ãŸã¾ã«issueä½œã£ãŸã‚Š
- ãŸã¾ã«PRä½œã£ãŸã‚Š
- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ›¸ã„ãŸã‚Š
- å‹‰å¼·ä¼šé–‹ã„ãŸã‚Š
- æŠ€è¡“æ›¸å…¸ï¼’ã§é ’å¸ƒã—ãŸã‚Š


---

## Crystalå‹‰å¼·ä¼š #4 in æ¸‹è°·

<img src="assets/images/blog-04-study-crystal.png" width="80%">


---

## æŠ€è¡“æ›¸å…¸ï¼’

<img src="assets/images/blog-05-techbookfest2.png" width="45%">


---

## æŠ€è¡“æ›¸å…¸ï¼“ é–‹å‚¬æ±ºå®š ğŸ‰

<img src="assets/images/techbookfest3.png" width="65%">


---?image=assets/images/crystal-web-site-top.png&size=cover

### Crystalã®ã“ã‚Œã¾ã§ã®æ­©ã¿ã¨
### v1.0 ã«å‘ã‘ãŸãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—
##### 2017.07.06 @at_grandpa


---

#### Crystalã‚’
### ã”å­˜çŸ¥ã®æ–¹ğŸ™‹


---

### è§¦ã£ãŸã“ã¨ã‚ã‚‹æ–¹ğŸ™‹

+++

### ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸğŸ™‡

---

### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã£ãŸã“ã¨ã‚ã‚‹æ–¹ğŸ™‹

+++

### ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸğŸ™‡

---

### Contributorã®æ–¹ğŸ™‹

+++

### ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸğŸ™‡

---

### Crsytalã£ã¦ã©ã‚“ãªæ„Ÿã˜ãªã®ã‹

---

## GOALS

- Have a syntax similar to Ruby (but compatibility with it is not a goal) |
- Statically type-checked but without having to specify the type of variables or method arguments. |
- Be able to call C code by writing bindings to it in Crystal. |
- Have compile-time evaluation and generation of code, to avoid boilerplate code. |
- Compile to efficient native code. |

---

### Syntax

```crystal
class MyStrPrinter
  def initialize(@greeting : String = "", @name : String = "")
  end

  def print
    puts "#{@greeting}, #{@name}."
  end
end

s = MyStrPrinter.new(name: "Taro", greeting: "Hello")
s.print  # => Hello, Taro.
```
@[2](ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã«ç›´æ¥ä»£å…¥ã•ã‚Œã‚‹)
@[10](é€šå¸¸ã®å¤‰æ•°åã‚’ä½¿ã£ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°)

---

### Short one-argument syntax

A short syntax exists for specifying a block that receives a single argument and invokes a method on it.

```crystal
puts ["abc", "def", "ghi"].map do |arg|
  arg.upcase.reverse
end
# => ["CBA", "FED", "IHG"]

# ditto
puts ["abc", "def", "ghi"].map(&.upcase.reverse)
```
@[1-4]()
@[6-7]()

[Crystal Docs - Blocks and Procs](https://crystal-lang.org/docs/syntax_and_semantics/blocks_and_procs.html)

---

### Union types

```crystal
if 1 + 2 == 3
  a = 1
else
  a = "hello"
end

a      # : Int32 | String
a.to_s # => String
a + 1  # Error, because String#+(Int32) isn't defined
```
@[1-5]()
@[7]()
@[8]()
@[9]()

[Crystal Docs - Union types](https://crystal-lang.org/docs/syntax_and_semantics/union_types.html)

---

# ğŸ™…

```
undefined method 'to_i' for Nil (compile-time type is (Array(Array(Bool | Float64 | Int32 | Int64 | MySQL::Types::Date | Slice(UInt8) | String | Time | Nil)) | Nil)) (did you mean 'to_s'?)
```

###### ã€€

- å¤‰æ•°ã®ã‚¹ã‚³ãƒ¼ãƒ—ã¯å°ã•ãã™ã‚‹ |
- å¤‰æ•°ã®å‹ã‚’æ˜ç¤ºçš„ã«æ›¸ã„ã¦ã—ã¾ã† |

---

### Macros

```crystal
class MacroSample
  macro define_getter(*names)
    {% for name in names %}
      def {{name}}
        @{{name}}
      end
    {% end %}
  end

  define_getter year, month, date, hour, min, sec
end

# ditto (at compile-time)
class MacroSample
  def year
    @year
  end

  def month
    @month
  end

  def date
    @date
  end

  def hour
    @hour
  end

  def min
    @min
  end

  def sec
    @sec
  end
end
```
@[1-11]()
@[2-8](Macroã®å®šç¾©)
@[10](Macroã®å‘¼ã³å‡ºã—)
@[13-38](compile-timeæ™‚ã®ã‚³ãƒ¼ãƒ‰)
---

### Generics

```crystal
class MyBox(T)
  def initialize(@value : T)
  end

  def value
    @value
  end
end

int_box = MyBox(Int32).new(1)
int_box.value # => 1 (Int32)

string_box = MyBox(String).new("hello")
string_box.value # => "hello" (String)

another_box = MyBox(String).new(1) # Error, Int32 doesn't match String
```
@[1-8](å¤§æ–‡å­—ã§å‹å¤‰æ•°ã‚’å®šç¾©)
@[10-11](Int32ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆ)
@[13-14](Stringã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆ)
@[16](å‹ãŒé•ã†ã¨Error)

---

### abstract class

```crystal
# abstract.cr
abstract class Animal
  abstract def talk
end

class Dog < Animal
end
#  Error in abstract.cr:2: abstract `def Animal#talk()` must be implemented by Dog
#
#    abstract def talk
#                 ^~~~
```

---

### Crystalã«ã¤ã„ã¦
### ã„ã‚ã„ã‚èª¿ã¹ã¦ãã¾ã—ãŸ

---

### [Crystal è¨€èªå‘¨è¾ºã® 2017å¹´ã¯ï¼Ÿï¼ˆå¦„æƒ³ï¼‰](http://qiita.com/yahhonob/items/a24dee215c70425196d3)

<img src="assets/images/qiita-crystal-2017.png" width="55%">

###### author: [@yahhonob](https://twitter.com/yahhonob)ã•ã‚“

---

## Github Starsâ­

---

### ç¾æ™‚ç‚¹ã§ã¯...
### [crystal-lang/crystal](https://github.com/crystal-lang/crystal)

---

### Staræ•°ã®æ¨ç§»ã‚’è¿½ã£ã¦ã¿ã¾ã™ğŸ“ˆ

---

### ä¾¿åˆ©ãªã‚µã‚¤ãƒˆ
### [http://www.timqian.com/star-history/](http://www.timqian.com/star-history/)

---

<img src="assets/images/github-star-crystal.png" width="80%">

---

<img src="assets/images/github-star-crystal-elixir.png" width="80%">

---

<img src="assets/images/github-star-crystal-elixir-rust.png " width="80%">

---

<img src="assets/images/github-star-crystal-elixir-rust-go.png" width="80%">

---

<img src="assets/images/github-star-crystal-elixir-rust-go-swift.png" width="80%">

---

### ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

---

### shards

- rubyã®`bundler`çš„å­˜åœ¨
- `shards.yml`ã«è¨­å®šè¨˜è¿°
- githubã®ãƒªãƒã‚¸ãƒˆãƒªæŒ‡å®š
  - branchã‚„ã‚¿ã‚°æŒ‡å®šå¯èƒ½
- `shards.lock`ã‚’ç”Ÿæˆ

---

###### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’installã™ã‚‹ã¾ã§ã®æµã‚Œ

```
$ crystal init app kemal_test
      create  kemal_test/.gitignore
      create  kemal_test/.editorconfig
      create  kemal_test/LICENSE
      create  kemal_test/README.md
      create  kemal_test/.travis.yml
      create  kemal_test/shard.yml
      create  kemal_test/src/kemal_test.cr
      create  kemal_test/src/kemal_test/version.cr
      create  kemal_test/spec/spec_helper.cr
      create  kemal_test/spec/kemal_test_spec.cr
Initialized empty Git repository in /path/to/kemal_test/.git/
$ cd kemal_test
$ vim shard.yml
$ cat shard.yml
name: kemal_test
version: 0.1.0

authors:
  - at-grandpa

targets:
  kemal_test:
    main: src/kemal_test.cr

crystal: 0.23.0

license: MIT

dependencies:
  kemal:
    github: kemalcr/kemal
    branch: master

$ shards install
Updating https://github.com/kemalcr/kemal.git
Updating https://github.com/luislavena/radix.git
Updating https://github.com/jeromegn/kilt.git
Installing kemal (master)
Installing radix (0.3.8)
Installing kilt (0.4.0)
$ ls -1 lib
kemal
kilt
radix

$ vim src/kemal_test.cr
$ cat src/kemal_test.cr
require "./kemal_test/*"
require "kemal"

get "/" do
  "Hello World!"
end

Kemal.run

$ crystal run src/kemal_test.cr
[development] Kemal is ready to lead at http://0.0.0.0:3000
```
@[1](`Crystal init`ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™)
@[2-12](é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™)
@[13]()
@[14](`shads.yml`ã‚’ç·¨é›†ã—ã¾ã™)
@[15]()
@[16-34]()
@[30-33](`kemal`ã‚’è¨˜è¿°ã—ã¾ã™)
@[35](ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’installã—ã¾ã™)
@[36-41](installã§ãã¾ã—ãŸ)
@[42-46](libãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚Šã¾ã™)
@[47](ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç·¨é›†ã—ã¾ã™)
@[48]()
@[49-57](`require`ã§ãã¾ã™)
@[58-59](å®Ÿè¡Œã§ãã¾ã™)

---

### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç´¹ä»‹ã—ã¦ã„ã‚‹ã‚µã‚¤ãƒˆ


---

### [AWESOME CRYSTAL](http://awesome-crystal.com/)

<img src="assets/images/awesome-crystal.png" width="60%">


---

### [CrystalShards](http://crystalshards.xyz/)

<img src="assets/images/crystalshards-xyz.png" width="60%">


---

### æœ‰åã ã¨æ€ã†ã‚‚ã®

- [kemal](http://kemalcr.com/)
  - Sinatraãƒ©ã‚¤ã‚¯ãª web framework
- [amber](http://www.ambercr.io/)
  - Railsãƒ©ã‚¤ã‚¯ãª web framework
  - CLIãƒ„ãƒ¼ãƒ«ã‚‚ã‚ã‚‹
- [sidekiq.cr](http://www.mikeperham.com/2016/05/25/sidekiq-for-crystal/)
  - sidekiqä½œè€…ãŒè‡ªã‚‰åˆ¶ä½œ

---

### æœ€è¿‘å°‘ã—æ³¨ç›®ã—ã¦ã„ã‚‹ã‚‚ã®

- [graphql-crystal](https://github.com/ziprandom/graphql-crystal)
  - ã¾ã betaç‰ˆ
- [scry](https://github.com/kofno/scry)
  - LSPå¯¾å¿œã® code analysis server

---

### 3æšç›®ã®ã‚¹ãƒ©ã‚¤ãƒ‰

```crystal
a = "a"
b = "b"
c = "c"
d = "d"
a = "a"
a = "a"
a = "a"
a = "a"
a = "a"
a = "a"
b = "b"
c = "c"
d = "d"
b = "b"
c = "c"
d = "d"
b = "b"
c = "c"
d = "d"
b = "b"
c = "c"
d = "d"
b = "b"
c = "c"
d = "d"
b = "b"
c = "c"
d = "d"
```
@[2](ã“ã‚Œã¯"b"ã§ã™)
@[23](ã“ã‚Œã¯"c"ã§ã™)


---

# h1

## h2

### h3

å¤§æ–‡å­—ã«ãªã‚‹ã£ã½ã„ãª

---

# ç®‡æ¡æ›¸ãã®ãƒ†ã‚¹ãƒˆ

- aaa
- bbb
- ccc |
- ddd
- eee
- fff |
- ggg

---

### ãŠã‚ã‚Š
